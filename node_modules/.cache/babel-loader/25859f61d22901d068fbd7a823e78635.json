{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"/home/ravi/coinflip/coin-flip-test-main/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/home/ravi/coinflip/coin-flip-test-main/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/home/ravi/coinflip/coin-flip-test-main/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/home/ravi/coinflip/coin-flip-test-main/node_modules/@babel/runtime/helpers/createClass\");\n\nvar __classPrivateFieldSet = this && this.__classPrivateFieldSet || function (receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n};\n\nvar __classPrivateFieldGet = this && this.__classPrivateFieldGet || function (receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\n\nvar _EthersAdapter_ethers, _EthersAdapter_signer, _EthersAdapter_provider;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar abstract_signer_1 = require(\"@ethersproject/abstract-signer\");\n\nvar bignumber_1 = require(\"@ethersproject/bignumber\");\n\nvar safe_core_sdk_utils_1 = require(\"@safe-global/safe-core-sdk-utils\");\n\nvar contractInstancesEthers_1 = require(\"./contracts/contractInstancesEthers\");\n\nvar utils_1 = require(\"./utils\");\n\nvar EthersAdapter = /*#__PURE__*/function () {\n  function EthersAdapter(_ref) {\n    var ethers = _ref.ethers,\n        signerOrProvider = _ref.signerOrProvider;\n\n    _classCallCheck(this, EthersAdapter);\n\n    _EthersAdapter_ethers.set(this, void 0);\n\n    _EthersAdapter_signer.set(this, void 0);\n\n    _EthersAdapter_provider.set(this, void 0);\n\n    if (!ethers) {\n      throw new Error('ethers property missing from options');\n    }\n\n    __classPrivateFieldSet(this, _EthersAdapter_ethers, ethers, \"f\");\n\n    var isSigner = signerOrProvider instanceof abstract_signer_1.Signer;\n\n    if (isSigner) {\n      var signer = signerOrProvider;\n\n      if (!signer.provider) {\n        throw new Error('Signer must be connected to a provider');\n      }\n\n      __classPrivateFieldSet(this, _EthersAdapter_provider, signer.provider, \"f\");\n\n      __classPrivateFieldSet(this, _EthersAdapter_signer, signer, \"f\");\n    } else {\n      __classPrivateFieldSet(this, _EthersAdapter_provider, signerOrProvider, \"f\");\n    }\n  }\n\n  _createClass(EthersAdapter, [{\n    key: \"getProvider\",\n    value: function getProvider() {\n      return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n    }\n  }, {\n    key: \"getSigner\",\n    value: function getSigner() {\n      return __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\");\n    }\n  }, {\n    key: \"isAddress\",\n    value: function isAddress(address) {\n      return __classPrivateFieldGet(this, _EthersAdapter_ethers, \"f\").utils.isAddress(address);\n    }\n  }, {\n    key: \"getEip3770Address\",\n    value: function () {\n      var _getEip3770Address = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(fullAddress) {\n        var chainId;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.getChainId();\n\n              case 2:\n                chainId = _context.sent;\n                return _context.abrupt(\"return\", (0, safe_core_sdk_utils_1.validateEip3770Address)(fullAddress, chainId));\n\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function getEip3770Address(_x) {\n        return _getEip3770Address.apply(this, arguments);\n      }\n\n      return getEip3770Address;\n    }()\n  }, {\n    key: \"getBalance\",\n    value: function () {\n      var _getBalance = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(address, blockTag) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.t0 = bignumber_1.BigNumber;\n                _context2.next = 3;\n                return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getBalance(address, blockTag);\n\n              case 3:\n                _context2.t1 = _context2.sent;\n                return _context2.abrupt(\"return\", _context2.t0.from.call(_context2.t0, _context2.t1));\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function getBalance(_x2, _x3) {\n        return _getBalance.apply(this, arguments);\n      }\n\n      return getBalance;\n    }()\n  }, {\n    key: \"getNonce\",\n    value: function () {\n      var _getNonce = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(address, blockTag) {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                return _context3.abrupt(\"return\", __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getTransactionCount(address, blockTag));\n\n              case 1:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function getNonce(_x4, _x5) {\n        return _getNonce.apply(this, arguments);\n      }\n\n      return getNonce;\n    }()\n  }, {\n    key: \"getChainId\",\n    value: function () {\n      var _getChainId = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getNetwork();\n\n              case 2:\n                return _context4.abrupt(\"return\", _context4.sent.chainId);\n\n              case 3:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n\n      function getChainId() {\n        return _getChainId.apply(this, arguments);\n      }\n\n      return getChainId;\n    }()\n  }, {\n    key: \"getChecksummedAddress\",\n    value: function getChecksummedAddress(address) {\n      return __classPrivateFieldGet(this, _EthersAdapter_ethers, \"f\").utils.getAddress(address);\n    }\n  }, {\n    key: \"getSafeContract\",\n    value: function getSafeContract(_ref2) {\n      var safeVersion = _ref2.safeVersion,\n          chainId = _ref2.chainId,\n          singletonDeployment = _ref2.singletonDeployment,\n          customContractAddress = _ref2.customContractAddress;\n      var contractAddress = customContractAddress ? customContractAddress : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n\n      if (!contractAddress) {\n        throw new Error('Invalid SafeProxy contract address');\n      }\n\n      var signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n\n      return (0, contractInstancesEthers_1.getSafeContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n  }, {\n    key: \"getSafeProxyFactoryContract\",\n    value: function getSafeProxyFactoryContract(_ref3) {\n      var safeVersion = _ref3.safeVersion,\n          chainId = _ref3.chainId,\n          singletonDeployment = _ref3.singletonDeployment,\n          customContractAddress = _ref3.customContractAddress;\n      var contractAddress = customContractAddress ? customContractAddress : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n\n      if (!contractAddress) {\n        throw new Error('Invalid SafeProxyFactory contract address');\n      }\n\n      var signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n\n      return (0, contractInstancesEthers_1.getSafeProxyFactoryContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n  }, {\n    key: \"getMultiSendContract\",\n    value: function getMultiSendContract(_ref4) {\n      var safeVersion = _ref4.safeVersion,\n          chainId = _ref4.chainId,\n          singletonDeployment = _ref4.singletonDeployment,\n          customContractAddress = _ref4.customContractAddress;\n      var contractAddress = customContractAddress ? customContractAddress : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n\n      if (!contractAddress) {\n        throw new Error('Invalid MultiSend contract address');\n      }\n\n      var signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n\n      return (0, contractInstancesEthers_1.getMultiSendContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n  }, {\n    key: \"getMultiSendCallOnlyContract\",\n    value: function getMultiSendCallOnlyContract(_ref5) {\n      var safeVersion = _ref5.safeVersion,\n          chainId = _ref5.chainId,\n          singletonDeployment = _ref5.singletonDeployment,\n          customContractAddress = _ref5.customContractAddress;\n      var contractAddress = customContractAddress ? customContractAddress : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n\n      if (!contractAddress) {\n        throw new Error('Invalid MultiSendCallOnly contract address');\n      }\n\n      var signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n\n      return (0, contractInstancesEthers_1.getMultiSendCallOnlyContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n  }, {\n    key: \"getCompatibilityFallbackHandlerContract\",\n    value: function getCompatibilityFallbackHandlerContract(_ref6) {\n      var safeVersion = _ref6.safeVersion,\n          chainId = _ref6.chainId,\n          singletonDeployment = _ref6.singletonDeployment,\n          customContractAddress = _ref6.customContractAddress;\n      var contractAddress = customContractAddress ? customContractAddress : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n\n      if (!contractAddress) {\n        throw new Error('Invalid CompatibilityFallbackHandler contract address');\n      }\n\n      var signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n\n      return (0, contractInstancesEthers_1.getCompatibilityFallbackHandlerContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n  }, {\n    key: \"getSignMessageLibContract\",\n    value: function getSignMessageLibContract(_ref7) {\n      var safeVersion = _ref7.safeVersion,\n          chainId = _ref7.chainId,\n          singletonDeployment = _ref7.singletonDeployment,\n          customContractAddress = _ref7.customContractAddress;\n      var contractAddress = customContractAddress ? customContractAddress : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n\n      if (!contractAddress) {\n        throw new Error('Invalid SignMessageLib contract address');\n      }\n\n      var signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n\n      return (0, contractInstancesEthers_1.getSignMessageLibContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n  }, {\n    key: \"getCreateCallContract\",\n    value: function getCreateCallContract(_ref8) {\n      var safeVersion = _ref8.safeVersion,\n          chainId = _ref8.chainId,\n          singletonDeployment = _ref8.singletonDeployment,\n          customContractAddress = _ref8.customContractAddress;\n      var contractAddress = customContractAddress ? customContractAddress : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n\n      if (!contractAddress) {\n        throw new Error('Invalid CreateCall contract address');\n      }\n\n      var signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n\n      return (0, contractInstancesEthers_1.getCreateCallContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n  }, {\n    key: \"getContractCode\",\n    value: function () {\n      var _getContractCode = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(address, blockTag) {\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                return _context5.abrupt(\"return\", __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getCode(address, blockTag));\n\n              case 1:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function getContractCode(_x6, _x7) {\n        return _getContractCode.apply(this, arguments);\n      }\n\n      return getContractCode;\n    }()\n  }, {\n    key: \"isContractDeployed\",\n    value: function () {\n      var _isContractDeployed = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(address, blockTag) {\n        var contractCode;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                _context6.next = 2;\n                return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getCode(address, blockTag);\n\n              case 2:\n                contractCode = _context6.sent;\n                return _context6.abrupt(\"return\", contractCode !== '0x');\n\n              case 4:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n\n      function isContractDeployed(_x8, _x9) {\n        return _isContractDeployed.apply(this, arguments);\n      }\n\n      return isContractDeployed;\n    }()\n  }, {\n    key: \"getStorageAt\",\n    value: function () {\n      var _getStorageAt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(address, position) {\n        var content, decodedContent;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                _context7.next = 2;\n                return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getStorageAt(address, position);\n\n              case 2:\n                content = _context7.sent;\n                decodedContent = this.decodeParameters(['address'], content);\n                return _context7.abrupt(\"return\", decodedContent[0]);\n\n              case 5:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n\n      function getStorageAt(_x10, _x11) {\n        return _getStorageAt.apply(this, arguments);\n      }\n\n      return getStorageAt;\n    }()\n  }, {\n    key: \"getTransaction\",\n    value: function () {\n      var _getTransaction = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(transactionHash) {\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                return _context8.abrupt(\"return\", __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getTransaction(transactionHash));\n\n              case 1:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n\n      function getTransaction(_x12) {\n        return _getTransaction.apply(this, arguments);\n      }\n\n      return getTransaction;\n    }()\n  }, {\n    key: \"getSignerAddress\",\n    value: function () {\n      var _getSignerAddress = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9() {\n        var _a;\n\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                return _context9.abrupt(\"return\", (_a = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\")) === null || _a === void 0 ? void 0 : _a.getAddress());\n\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9, this);\n      }));\n\n      function getSignerAddress() {\n        return _getSignerAddress.apply(this, arguments);\n      }\n\n      return getSignerAddress;\n    }()\n  }, {\n    key: \"signMessage\",\n    value: function signMessage(message) {\n      if (!__classPrivateFieldGet(this, _EthersAdapter_signer, \"f\")) {\n        throw new Error('EthAdapter must be initialized with a signer to use this method');\n      }\n\n      var messageArray = __classPrivateFieldGet(this, _EthersAdapter_ethers, \"f\").utils.arrayify(message);\n\n      return __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\").signMessage(messageArray);\n    }\n  }, {\n    key: \"signTypedData\",\n    value: function () {\n      var _signTypedData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(safeTransactionEIP712Args) {\n        var typedData, signature;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                if (__classPrivateFieldGet(this, _EthersAdapter_signer, \"f\")) {\n                  _context10.next = 2;\n                  break;\n                }\n\n                throw new Error('EthAdapter must be initialized with a signer to use this method');\n\n              case 2:\n                if (!(0, utils_1.isTypedDataSigner)(__classPrivateFieldGet(this, _EthersAdapter_signer, \"f\"))) {\n                  _context10.next = 8;\n                  break;\n                }\n\n                typedData = (0, safe_core_sdk_utils_1.generateTypedData)(safeTransactionEIP712Args);\n                _context10.next = 6;\n                return __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\")._signTypedData(typedData.domain, {\n                  SafeTx: typedData.types.SafeTx\n                }, typedData.message);\n\n              case 6:\n                signature = _context10.sent;\n                return _context10.abrupt(\"return\", signature);\n\n              case 8:\n                throw new Error('The current signer does not implement EIP-712 to sign typed data');\n\n              case 9:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n\n      function signTypedData(_x13) {\n        return _signTypedData.apply(this, arguments);\n      }\n\n      return signTypedData;\n    }()\n  }, {\n    key: \"estimateGas\",\n    value: function () {\n      var _estimateGas = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11(transaction) {\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                _context11.next = 2;\n                return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").estimateGas(transaction);\n\n              case 2:\n                return _context11.abrupt(\"return\", _context11.sent.toNumber());\n\n              case 3:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n\n      function estimateGas(_x14) {\n        return _estimateGas.apply(this, arguments);\n      }\n\n      return estimateGas;\n    }()\n  }, {\n    key: \"call\",\n    value: function call(transaction, blockTag) {\n      return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").call(transaction, blockTag);\n    }\n  }, {\n    key: \"encodeParameters\",\n    value: function encodeParameters(types, values) {\n      return new (__classPrivateFieldGet(this, _EthersAdapter_ethers, \"f\").utils.AbiCoder)().encode(types, values);\n    }\n  }, {\n    key: \"decodeParameters\",\n    value: function decodeParameters(types, values) {\n      return new (__classPrivateFieldGet(this, _EthersAdapter_ethers, \"f\").utils.AbiCoder)().decode(types, values);\n    }\n  }]);\n\n  return EthersAdapter;\n}();\n\n_EthersAdapter_ethers = new WeakMap(), _EthersAdapter_signer = new WeakMap(), _EthersAdapter_provider = new WeakMap();\nexports.default = EthersAdapter;","map":{"version":3,"sources":["../../src/EthersAdapter.ts"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __classPrivateFieldSet = (this && this.__classPrivateFieldSet) || function (receiver, state, value, kind, f) {\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n};\nvar __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _EthersAdapter_ethers, _EthersAdapter_signer, _EthersAdapter_provider;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst abstract_signer_1 = require(\"@ethersproject/abstract-signer\");\nconst bignumber_1 = require(\"@ethersproject/bignumber\");\nconst safe_core_sdk_utils_1 = require(\"@safe-global/safe-core-sdk-utils\");\nconst contractInstancesEthers_1 = require(\"./contracts/contractInstancesEthers\");\nconst utils_1 = require(\"./utils\");\nclass EthersAdapter {\n    constructor({ ethers, signerOrProvider }) {\n        _EthersAdapter_ethers.set(this, void 0);\n        _EthersAdapter_signer.set(this, void 0);\n        _EthersAdapter_provider.set(this, void 0);\n        if (!ethers) {\n            throw new Error('ethers property missing from options');\n        }\n        __classPrivateFieldSet(this, _EthersAdapter_ethers, ethers, \"f\");\n        const isSigner = signerOrProvider instanceof abstract_signer_1.Signer;\n        if (isSigner) {\n            const signer = signerOrProvider;\n            if (!signer.provider) {\n                throw new Error('Signer must be connected to a provider');\n            }\n            __classPrivateFieldSet(this, _EthersAdapter_provider, signer.provider, \"f\");\n            __classPrivateFieldSet(this, _EthersAdapter_signer, signer, \"f\");\n        }\n        else {\n            __classPrivateFieldSet(this, _EthersAdapter_provider, signerOrProvider, \"f\");\n        }\n    }\n    getProvider() {\n        return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n    }\n    getSigner() {\n        return __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\");\n    }\n    isAddress(address) {\n        return __classPrivateFieldGet(this, _EthersAdapter_ethers, \"f\").utils.isAddress(address);\n    }\n    async getEip3770Address(fullAddress) {\n        const chainId = await this.getChainId();\n        return (0, safe_core_sdk_utils_1.validateEip3770Address)(fullAddress, chainId);\n    }\n    async getBalance(address, blockTag) {\n        return bignumber_1.BigNumber.from(await __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getBalance(address, blockTag));\n    }\n    async getNonce(address, blockTag) {\n        return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getTransactionCount(address, blockTag);\n    }\n    async getChainId() {\n        return (await __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getNetwork()).chainId;\n    }\n    getChecksummedAddress(address) {\n        return __classPrivateFieldGet(this, _EthersAdapter_ethers, \"f\").utils.getAddress(address);\n    }\n    getSafeContract({ safeVersion, chainId, singletonDeployment, customContractAddress }) {\n        const contractAddress = customContractAddress\n            ? customContractAddress\n            : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n        if (!contractAddress) {\n            throw new Error('Invalid SafeProxy contract address');\n        }\n        const signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n        return (0, contractInstancesEthers_1.getSafeContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n    getSafeProxyFactoryContract({ safeVersion, chainId, singletonDeployment, customContractAddress }) {\n        const contractAddress = customContractAddress\n            ? customContractAddress\n            : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n        if (!contractAddress) {\n            throw new Error('Invalid SafeProxyFactory contract address');\n        }\n        const signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n        return (0, contractInstancesEthers_1.getSafeProxyFactoryContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n    getMultiSendContract({ safeVersion, chainId, singletonDeployment, customContractAddress }) {\n        const contractAddress = customContractAddress\n            ? customContractAddress\n            : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n        if (!contractAddress) {\n            throw new Error('Invalid MultiSend contract address');\n        }\n        const signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n        return (0, contractInstancesEthers_1.getMultiSendContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n    getMultiSendCallOnlyContract({ safeVersion, chainId, singletonDeployment, customContractAddress }) {\n        const contractAddress = customContractAddress\n            ? customContractAddress\n            : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n        if (!contractAddress) {\n            throw new Error('Invalid MultiSendCallOnly contract address');\n        }\n        const signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n        return (0, contractInstancesEthers_1.getMultiSendCallOnlyContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n    getCompatibilityFallbackHandlerContract({ safeVersion, chainId, singletonDeployment, customContractAddress }) {\n        const contractAddress = customContractAddress\n            ? customContractAddress\n            : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n        if (!contractAddress) {\n            throw new Error('Invalid CompatibilityFallbackHandler contract address');\n        }\n        const signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n        return (0, contractInstancesEthers_1.getCompatibilityFallbackHandlerContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n    getSignMessageLibContract({ safeVersion, chainId, singletonDeployment, customContractAddress }) {\n        const contractAddress = customContractAddress\n            ? customContractAddress\n            : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n        if (!contractAddress) {\n            throw new Error('Invalid SignMessageLib contract address');\n        }\n        const signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n        return (0, contractInstancesEthers_1.getSignMessageLibContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n    getCreateCallContract({ safeVersion, chainId, singletonDeployment, customContractAddress }) {\n        const contractAddress = customContractAddress\n            ? customContractAddress\n            : singletonDeployment === null || singletonDeployment === void 0 ? void 0 : singletonDeployment.networkAddresses[chainId];\n        if (!contractAddress) {\n            throw new Error('Invalid CreateCall contract address');\n        }\n        const signerOrProvider = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\") || __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\");\n        return (0, contractInstancesEthers_1.getCreateCallContractInstance)(safeVersion, contractAddress, signerOrProvider);\n    }\n    async getContractCode(address, blockTag) {\n        return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getCode(address, blockTag);\n    }\n    async isContractDeployed(address, blockTag) {\n        const contractCode = await __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getCode(address, blockTag);\n        return contractCode !== '0x';\n    }\n    async getStorageAt(address, position) {\n        const content = await __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getStorageAt(address, position);\n        const decodedContent = this.decodeParameters(['address'], content);\n        return decodedContent[0];\n    }\n    async getTransaction(transactionHash) {\n        return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").getTransaction(transactionHash);\n    }\n    async getSignerAddress() {\n        var _a;\n        return (_a = __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\")) === null || _a === void 0 ? void 0 : _a.getAddress();\n    }\n    signMessage(message) {\n        if (!__classPrivateFieldGet(this, _EthersAdapter_signer, \"f\")) {\n            throw new Error('EthAdapter must be initialized with a signer to use this method');\n        }\n        const messageArray = __classPrivateFieldGet(this, _EthersAdapter_ethers, \"f\").utils.arrayify(message);\n        return __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\").signMessage(messageArray);\n    }\n    async signTypedData(safeTransactionEIP712Args) {\n        if (!__classPrivateFieldGet(this, _EthersAdapter_signer, \"f\")) {\n            throw new Error('EthAdapter must be initialized with a signer to use this method');\n        }\n        if ((0, utils_1.isTypedDataSigner)(__classPrivateFieldGet(this, _EthersAdapter_signer, \"f\"))) {\n            const typedData = (0, safe_core_sdk_utils_1.generateTypedData)(safeTransactionEIP712Args);\n            const signature = await __classPrivateFieldGet(this, _EthersAdapter_signer, \"f\")._signTypedData(typedData.domain, { SafeTx: typedData.types.SafeTx }, typedData.message);\n            return signature;\n        }\n        throw new Error('The current signer does not implement EIP-712 to sign typed data');\n    }\n    async estimateGas(transaction) {\n        return (await __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").estimateGas(transaction)).toNumber();\n    }\n    call(transaction, blockTag) {\n        return __classPrivateFieldGet(this, _EthersAdapter_provider, \"f\").call(transaction, blockTag);\n    }\n    encodeParameters(types, values) {\n        return new (__classPrivateFieldGet(this, _EthersAdapter_ethers, \"f\").utils.AbiCoder)().encode(types, values);\n    }\n    decodeParameters(types, values) {\n        return new (__classPrivateFieldGet(this, _EthersAdapter_ethers, \"f\").utils.AbiCoder)().decode(types, values);\n    }\n}\n_EthersAdapter_ethers = new WeakMap(), _EthersAdapter_signer = new WeakMap(), _EthersAdapter_provider = new WeakMap();\nexports.default = EthersAdapter;\n//# sourceMappingURL=EthersAdapter.js.map"]},"metadata":{},"sourceType":"script"}