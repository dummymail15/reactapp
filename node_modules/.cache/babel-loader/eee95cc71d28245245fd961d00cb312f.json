{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.hasFeature = exports.enabledFeatures = exports.FEATURES = void 0;\n\nconst satisfies_1 = __importDefault(require(\"semver/functions/satisfies\"));\n\nvar FEATURES;\n\n(function (FEATURES) {\n  FEATURES[FEATURES[\"SAFE_TX_GAS_OPTIONAL\"] = 0] = \"SAFE_TX_GAS_OPTIONAL\";\n  FEATURES[FEATURES[\"SAFE_TX_GUARDS\"] = 1] = \"SAFE_TX_GUARDS\";\n  FEATURES[FEATURES[\"SAFE_FALLBACK_HANDLER\"] = 2] = \"SAFE_FALLBACK_HANDLER\";\n})(FEATURES = exports.FEATURES || (exports.FEATURES = {}));\n\nconst FEATURES_BY_VERSION = {\n  [FEATURES.SAFE_TX_GAS_OPTIONAL]: '>=1.3.0',\n  [FEATURES.SAFE_TX_GUARDS]: '>=1.3.0',\n  [FEATURES.SAFE_FALLBACK_HANDLER]: '>=1.1.1'\n};\n\nconst isEnabledByVersion = (feature, version) => {\n  if (!(feature in FEATURES_BY_VERSION)) {\n    return true;\n  }\n\n  return (0, satisfies_1.default)(version, FEATURES_BY_VERSION[feature]);\n};\n\nconst enabledFeatures = version => {\n  const features = Object.values(FEATURES);\n  return features.filter(feature => isEnabledByVersion(feature, version));\n};\n\nexports.enabledFeatures = enabledFeatures;\n\nconst hasFeature = (name, version) => {\n  return (0, exports.enabledFeatures)(version).includes(name);\n};\n\nexports.hasFeature = hasFeature;","map":{"version":3,"sources":["../../../src/utils/safeVersions.ts"],"names":[],"mappings":";;;;;;;;;;;;;AAAA,MAAA,WAAA,GAAA,eAAA,CAAA,OAAA,CAAA,4BAAA,CAAA,CAAA;;AAEA,IAAY,QAAZ;;AAAA,CAAA,UAAY,QAAZ,EAAoB;AAClB,EAAA,QAAA,CAAA,QAAA,CAAA,sBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,sBAAA;AACA,EAAA,QAAA,CAAA,QAAA,CAAA,gBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,gBAAA;AACA,EAAA,QAAA,CAAA,QAAA,CAAA,uBAAA,CAAA,GAAA,CAAA,CAAA,GAAA,uBAAA;AACD,CAJD,EAAY,QAAQ,GAAR,OAAA,CAAA,QAAA,KAAA,OAAA,CAAA,QAAA,GAAQ,EAAR,CAAZ;;AAMA,MAAM,mBAAmB,GAA2B;AAClD,GAAC,QAAQ,CAAC,oBAAV,GAAiC,SADiB;AAElD,GAAC,QAAQ,CAAC,cAAV,GAA2B,SAFuB;AAGlD,GAAC,QAAQ,CAAC,qBAAV,GAAkC;AAHgB,CAApD;;AAMA,MAAM,kBAAkB,GAAG,CAAC,OAAD,EAAoB,OAApB,KAAgD;AACzE,MAAI,EAAE,OAAO,IAAI,mBAAb,CAAJ,EAAuC;AACrC,WAAO,IAAP;AACD;;AACD,SAAO,CAAA,GAAA,WAAA,CAAA,OAAA,EAAgB,OAAhB,EAAyB,mBAAmB,CAAC,OAAD,CAA5C,CAAP;AACD,CALD;;AAOO,MAAM,eAAe,GAAI,OAAD,IAAgC;AAC7D,QAAM,QAAQ,GAAG,MAAM,CAAC,MAAP,CAAc,QAAd,CAAjB;AACA,SAAO,QAAQ,CAAC,MAAT,CAAiB,OAAD,IAAa,kBAAkB,CAAC,OAAD,EAAU,OAAV,CAA/C,CAAP;AACD,CAHM;;AAAM,OAAA,CAAA,eAAA,GAAe,eAAf;;AAKN,MAAM,UAAU,GAAG,CAAC,IAAD,EAAiB,OAAjB,KAA6C;AACrE,SAAO,CAAA,GAAA,OAAA,CAAA,eAAA,EAAgB,OAAhB,EAAyB,QAAzB,CAAkC,IAAlC,CAAP;AACD,CAFM;;AAAM,OAAA,CAAA,UAAA,GAAU,UAAV","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasFeature = exports.enabledFeatures = exports.FEATURES = void 0;\nconst satisfies_1 = __importDefault(require(\"semver/functions/satisfies\"));\nvar FEATURES;\n(function (FEATURES) {\n    FEATURES[FEATURES[\"SAFE_TX_GAS_OPTIONAL\"] = 0] = \"SAFE_TX_GAS_OPTIONAL\";\n    FEATURES[FEATURES[\"SAFE_TX_GUARDS\"] = 1] = \"SAFE_TX_GUARDS\";\n    FEATURES[FEATURES[\"SAFE_FALLBACK_HANDLER\"] = 2] = \"SAFE_FALLBACK_HANDLER\";\n})(FEATURES = exports.FEATURES || (exports.FEATURES = {}));\nconst FEATURES_BY_VERSION = {\n    [FEATURES.SAFE_TX_GAS_OPTIONAL]: '>=1.3.0',\n    [FEATURES.SAFE_TX_GUARDS]: '>=1.3.0',\n    [FEATURES.SAFE_FALLBACK_HANDLER]: '>=1.1.1'\n};\nconst isEnabledByVersion = (feature, version) => {\n    if (!(feature in FEATURES_BY_VERSION)) {\n        return true;\n    }\n    return (0, satisfies_1.default)(version, FEATURES_BY_VERSION[feature]);\n};\nconst enabledFeatures = (version) => {\n    const features = Object.values(FEATURES);\n    return features.filter((feature) => isEnabledByVersion(feature, version));\n};\nexports.enabledFeatures = enabledFeatures;\nconst hasFeature = (name, version) => {\n    return (0, exports.enabledFeatures)(version).includes(name);\n};\nexports.hasFeature = hasFeature;\n//# sourceMappingURL=safeVersions.js.map"]},"metadata":{},"sourceType":"script"}